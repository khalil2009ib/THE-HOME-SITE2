
 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buy Websites</title>
<style>
body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
#listings { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
.card { background: #fff; border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.card h3 { margin: 0 0 5px 0; color: #007bff; }
.card p { margin: 5px 0; color: #555; }
.card .price { font-weight: bold; color: #28a745; margin-top: 10px; }
.loading { grid-column: 1 / -1; text-align: center; color: #666; }
</style>
</head>
<body>

<h1>Available Websites for Sale</h1>
<div id="listings">
  <div class="loading">Loading listings...</div>
</div>

<script>
const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRCbQeue11n8S0HjYSgbhKCvQdFuQ8brWhPmt0haGdukKDuGEL7HuimY7q9QaDFk_lrXhdr6qemrRyl/pub?output=csv";

async function loadListings() {
  try {
    const res = await fetch(csvUrl);
    const text = await res.text();
    const rows = text.split('\n').slice(1); // تجاهل العنوان
    const container = document.getElementById('listings');
    container.innerHTML = '';

    rows.forEach(row => {
      const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
      if(cols.length >= 5){
        const name = cols[0].replace(/"/g,'').trim();
        const desc = cols[1].replace(/"/g,'').trim();
        const phone = cols[2].replace(/"/g,'').trim();
        const email = cols[3].replace(/"/g,'').trim();
        const price = cols[4].replace(/"/g,'').trim();

        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = 
          <h3>${name}</h3>
          <p>${desc}</p>
          <p>Phone: ${phone}</p>
          <p>Email: ${email}</p>
          <div class="price">${price}</div>
        ;
        container.appendChild(card);
      }
    });

  } catch(err) {
    document.getElementById('listings').innerHTML = '<div class="loading">Failed to load listings.</div>';
    console.error(err);
  }
}

loadListings();
</script>

</body>
</html>
