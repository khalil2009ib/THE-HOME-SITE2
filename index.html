
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOME SITE | Buy, Sell & Build Websites</title>
    <!-- Inter Font for a modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        /* --- CSS VARIABLES & THEME --- */
        :root {
            --bg-color: #0a0a0a;
            --surface-color: #1a1a1a;
            --royal-purple: #784ba0;
            --accent-purple: #2b1339;
            --text-main: #ffffff;
            --text-dim: #a0a0a0;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 12px;
        }

        /* --- GLOBAL STYLES --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- LAYOUT UTILITIES --- */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 60px 0;
            min-height: 80vh;
            display: none; /* Hidden by default for SPA routing */
            animation: fadeIn 0.4s ease-out;
        }

        section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- HEADER & NAVIGATION --- */
        header {
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            position: sticky;
            top: 0;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
        }

        .nav-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--royal-purple);
            text-decoration: none;
            letter-spacing: -1px;
        }

        .logo span {
            color: var(--text-main);
        }

        /* --- HERO SECTION --- */
        .hero {
            text-align: center;
            padding-top: 100px;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #fff 30%, var(--royal-purple) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-dim);
            max-width: 600px;
            margin: 0 auto 50px;
        }

        /* --- GRID CARDS --- */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .action-card {
            background: var(--surface-color);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 40px 30px;
            border-radius: var(--border-radius);
            text-align: left;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .action-card:hover {
            border-color: var(--royal-purple);
            transform: translateY(-5px);
            background: var(--accent-purple);
        }

        .action-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }


.action-card p {
            color: var(--text-dim);
            font-size: 0.95rem;
        }

        .card-icon {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--royal-purple);
        }

        /* --- FORMS & INPUTS --- */
        .content-header {
            margin-bottom: 40px;
            max-width: 800px;
        }

        .content-header h2 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .content-header p {
            color: var(--text-dim);
        }

        form {
            background: var(--surface-color);
            padding: 30px;
            border-radius: var(--border-radius);
            max-width: 600px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        input, textarea, select {
            width: 100%;
            padding: 14px;
            background: #000;
            border: 1px solid #333;
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
        }

        input:focus, textarea:focus {
            border-color: var(--royal-purple);
            box-shadow: 0 0 0 2px rgba(120, 75, 160, 0.2);
        }

        /* --- BUTTONS --- */
        .btn {
            display: inline-block;
            padding: 16px 32px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-align: center;
        }

        .btn-primary {
            background: var(--royal-purple);
            color: white;
            width: 100%;
            font-size: 1rem;
        }

        .btn-primary:hover {
            filter: brightness(1.1);
            transform: scale(1.02);
        }

        .btn-back {
            background: transparent;
            color: var(--text-dim);
            border: 1px solid #333;
            margin-bottom: 20px;
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        .btn-back:hover {
            color: #fff;
            border-color: var(--text-dim);
        }

        /* --- MOCK DATA FOR BUY PAGE --- */
        .listing-card {
            background: var(--surface-color);
            border: 1px solid #222;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .listing-info h4 { margin-bottom: 5px; }
        .listing-info p { font-size: 0.85rem; color: var(--text-dim); }
        .listing-price { color: var(--royal-purple); font-weight: 700; }

        /* --- THANK YOU STATE --- */
        .success-msg {
            text-align: center;
            padding: 50px 20px;
        }

        .success-msg h2 { color: var(--royal-purple); font-size: 2rem; }

        /* --- MOBILE ADJUSTMENTS --- */
        @media (max-width: 600px) {
            header { padding: 15px 0; }
            .hero { padding-top: 50px; }
            .content-header h2 { font-size: 1.8rem; }
            .listing-card { flex-direction: column; align-items: flex-start; gap: 15px; }
            form { padding: 20px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="container nav-wrapper">
            <a href="#" class="logo" onclick="navigateTo('home')">HOME<span>SITE</span></a>
        </div>
    </header>

    <div class="container">


<!-- HOME PAGE -->
        <section id="home" class="active">
            <div class="hero">
                <h1>HOME SITE</h1>
                <p>The premium ecosystem to buy, sell, and build web projects. No middlemen, no commissions.</p>
            </div>
            
            <div class="card-grid">
                <div class="action-card" onclick="navigateTo('buy')">
                    <div class="card-icon">üõí</div>
                    <div>
                        <h3>Buy a Website</h3>
                        <p>Browse existing platforms and purchase directly from the owner.</p>
                    </div>
                </div>

                <div class="action-card" onclick="navigateTo('sell')">
                    <div class="card-icon">üè∑Ô∏è</div>
                    <div>
                        <h3>Sell a Website</h3>
                        <p>List your project and reach thousands of potential buyers.</p>
                    </div>
                </div>

                <div class="action-card" onclick="navigateTo('request')">
                    <div class="card-icon">‚ö°</div>
                    <div>
                        <h3>Request a Website</h3>
                        <p>Have a custom vision? Find a developer to build it for you.</p>
                    </div>
                </div>

                <div class="action-card" onclick="navigateTo('customize')">
                    <div class="card-icon">üõ†Ô∏è</div>
                    <div>
                        <h3>Customize Site</h3>
                        <p>Tweak or redesign your existing website for better performance.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SELL A WEBSITE -->
        <section id="sell">
            <button class="btn btn-back" onclick="navigateTo('home')">‚Üê Back Home</button>
            <div class="content-header">
                <h2>Want to sell your website?</h2>
                <p>Fill in your website details and contact information. Buyers will contact you directly. <strong>No commission ‚Äì monthly subscription only.</strong></p>
            </div>
            
            <form onsubmit="handleFormSubmit(event, 'listing')">
                <div class="form-group">
                    <label>Website Name</label>
                    <input type="text" placeholder="e.g. MyTechBlog.com" required>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea rows="4" placeholder="Traffic, revenue, and stack details..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Asking Price ($)</label>
                    <input type="number" placeholder="5000" required>
                </div>
                <div class="form-group">
                    <label>Contact (Email or WhatsApp)</label>
                    <input type="text" placeholder="+1234567890" required>
                </div>
                <button type="submit" class="btn btn-primary">Publish Listing</button>
            </form>
        </section>

        <!-- BUY A WEBSITE -->
        <section id="buy">
            <button class="btn btn-back" onclick="navigateTo('home')">‚Üê Back Home</button>
            <div class="content-header">
                <h2>Looking to buy a website?</h2>
                <p>Contact sellers directly and negotiate freely. We verify subscriptions but you handle the deal.</p>
            </div>

            <div id="listings">
                <!-- Mock Data Listings -->
                <div class="listing-card">
                    <div class="listing-info">
                        <h4>E-commerce Fashion Store</h4>
                        <p>Shopify-based, $2k monthly revenue, US market.</p>


</div>
                    <div class="listing-price">$12,000</div>
                    <button class="btn btn-primary" style="width: auto; padding: 10px 20px;" onclick="showMessage('Contact seller via dashboard after login.')">Contact</button>
                </div>
                <div class="listing-card">
                    <div class="listing-info">
                        <h4>SaaS Productivity Tool</h4>
                        <p>Next.js app with 500 active users. Low maintenance.</p>
                    </div>
                    <div class="listing-price">$4,500</div>
                    <button class="btn btn-primary" style="width: auto; padding: 10px 20px;" onclick="showMessage('Contact seller via dashboard after login.')">Contact</button>
                </div>
                <div class="listing-card">
                    <div class="listing-info">
                        <h4>Crypto News Portal</h4>
                        <p>High traffic SEO optimized WordPress site.</p>
                    </div>
                    <div class="listing-price">$8,000</div>
                    <button class="btn btn-primary" style="width: auto; padding: 10px 20px;" onclick="showMessage('Contact seller via dashboard after login.')">Contact</button>
                </div>
            </div>
        </section>

        <!-- REQUEST A WEBSITE -->
        <section id="request">
            <button class="btn btn-back" onclick="navigateTo('home')">‚Üê Back Home</button>
            <div class="content-header">
                <h2>Want a custom website?</h2>
                <p>Describe your idea and wait for a professional developer to contact you from our vetted network.</p>
            </div>

            <form onsubmit="handleFormSubmit(event, 'request')">
                <div class="form-group">
                    <label>Project Idea</label>
                    <textarea rows="4" placeholder="I need a platform for pet grooming bookings..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Type of Website</label>
                    <select>
                        <option>E-commerce</option>
                        <option>Portfolio</option>
                        <option>SaaS/Web App</option>
                        <option>Blog/News</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Estimated Budget ($)</label>
                    <input type="text" placeholder="e.g. $1k - $3k" required>
                </div>
                <div class="form-group">
                    <label>Contact Info</label>
                    <input type="text" placeholder="Email or Telegram" required>
                </div>
                <button type="submit" class="btn btn-primary">Post Request</button>
            </form>
        </section>

        <!-- CUSTOMIZE A WEBSITE -->
        <section id="customize">
            <button class="btn btn-back" onclick="navigateTo('home')">‚Üê Back Home</button>
            <div class="content-header">
                <h2>Professional Customization</h2>
                <p>Need to add a feature, fix a bug, or redesign your UI? Our experts can help you scale your current platform.</p>
            </div>

            <div class="action-card" style="margin-bottom: 20px; cursor: default;">
                <h3>Step 1: Consultation</h3>
                <p>Speak with a technical lead about your current codebase and requirements.</p>
            </div>
            <div class="action-card" style="margin-bottom: 20px; cursor: default;">
                <h3>Step 2: Quotation</h3>
                <p>Receive a flat-fee quote for the specific work required.</p>
            </div>
            
            <button class="btn btn-primary" style="max-width: 300px;" onclick="showMessage('Opening consultation scheduler...')">Book a Consultation</button>
        </section>


import React, { useState, useEffect } from 'react';
import { initializeApp } from 'firebase/app';
import { 
  getFirestore, 
  collection, 
  addDoc, 
  onSnapshot, 
  query, 
  serverTimestamp 
} from 'firebase/firestore';
import { 
  getAuth, 
  signInAnonymously, 
  signInWithCustomToken, 
  onAuthStateChanged 
} from 'firebase/auth';
import { 
  PlusCircle, 
  ShoppingBag, 
  Phone, 
  Mail, 
  ExternalLink, 
  Loader2, 
  CheckCircle2,
  AlertCircle,
  Globe,
  ArrowRight,
  Zap
} from 'lucide-react';

// --- Firebase Configuration ---
const firebaseConfig = JSON.parse(__firebase_config);
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const appId = typeof app_id !== 'undefined' ? app_id : 'home-site-dark';

export default function App() {
  const [user, setUser] = useState(null);
  const [view, setView] = useState('buy');
  const [listings, setListings] = useState([]);
  const [loading, setLoading] = useState(true);
  const [submitting, setSubmitting] = useState(false);
  const [submitted, setSubmitted] = useState(false);
  const [error, setError] = useState(null);

  const [formData, setFormData] = useState({
    name: '',
    description: '',
    phone: '',
    email: '',
    price: ''
  });

  useEffect(() => {
    const initAuth = async () => {
      try {
        if (typeof initial_auth_token !== 'undefined' && initial_auth_token) {
          await signInWithCustomToken(auth, __initial_auth_token);
        } else {
          await signInAnonymously(auth);
        }
      } catch (err) {
        setError("Connection failed. Please refresh.");
      }
    };
    initAuth();
    const unsubscribe = onAuthStateChanged(auth, setUser);
    return () => unsubscribe();
  }, []);

  useEffect(() => {
    if (!user) return;
    const listingsRef = collection(db, 'artifacts', appId, 'public', 'data', 'listings');
    const q = query(listingsRef);
    const unsubscribe = onSnapshot(q, (snapshot) => {
      const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
      const sorted = data.sort((a, b) => (b.createdAt?.seconds  0) - (a.createdAt?.seconds  0));
      setListings(sorted);
      setLoading(false);
    }, () => {
      setError("Failed to load listings.");
      setLoading(false);
    });
    return () => unsubscribe();
  }, [user]);

  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!user) return;
    setSubmitting(true);
    try {
      const listingsRef = collection(db, 'artifacts', appId, 'public', 'data', 'listings');
      await addDoc(listingsRef, {
        ...formData,
        price: parseFloat(formData.price),
        createdAt: serverTimestamp(),
        sellerId: user.uid
      });
      setSubmitted(true);
      setFormData({ name: '', description: '', phone: '', email: '', price: '' });
      setTimeout(() => { setSubmitted(false); setView('buy'); }, 2000);
    } catch (err) {
      setError("Submission failed.");
    } finally {
      setSubmitting(false);
    }
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
  };

  return (
    <div className="min-h-screen bg-[#0F172A] font-sans text-slate-100 selection:bg-purple-500/30">
      {/* Header */}
      <nav className="sticky top-0 z-50 bg-[#0F172A]/80 backdrop-blur-xl border-b border-white/5 px-6 py-4">
        <div className="max-w-7xl mx-auto flex justify-between items-center">
          <div className="flex items-center gap-2 font-black text-2xl tracking-tighter text-white">
            <div className="p-1.5 bg-purple-600 rounded-lg shadow-lg shadow-purple-500/20">
              <Globe className="w-6 h-6 text-white" />
            </div>
            <span>HOME SITE</span>


</div>
          <div className="flex gap-2">
            <button 
              onClick={() => setView('buy')}
              className={px-5 py-2.5 rounded-xl text-sm font-bold transition-all ${view === 'buy' ? 'bg-purple-600 text-white shadow-xl shadow-purple-600/20' : 'text-slate-400 hover:text-white hover:bg-white/5'}}
            >
              Marketplace
            </button>
            <button 
              onClick={() => setView('sell')}
              className={px-5 py-2.5 rounded-xl text-sm font-bold transition-all ${view === 'sell' ? 'bg-purple-600 text-white shadow-xl shadow-purple-600/20' : 'text-slate-400 hover:text-white hover:bg-white/5'}}
            >
              List Website
            </button>
          </div>
        </div>
      </nav>

      <main className="max-w-7xl mx-auto p-6 md:p-12">
        {error && (
          <div className="mb-8 p-4 bg-red-500/10 border border-red-500/20 text-red-400 rounded-2xl flex items-center gap-3">
            <AlertCircle className="w-5 h-5" /> {error}
          </div>
        )}

        {view === 'buy' ? (
          <section>
            <div className="mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6">
              <div className="space-y-2">
                <h1 className="text-5xl font-black text-white tracking-tight">Digital Assets</h1>
                <p className="text-slate-400 text-lg font-medium">Acquire established web projects instantly.</p>
              </div>
              <div className="flex items-center gap-2 px-4 py-2 bg-purple-500/10 text-purple-400 rounded-full text-xs font-bold border border-purple-500/20 ring-1 ring-purple-500/30">
                <Zap className="w-3.5 h-3.5 fill-current" />
                LIVE SYNC ACTIVE
              </div>
            </div>

            {loading ? (
              <div className="flex flex-col items-center justify-center py-32">
                <Loader2 className="w-12 h-12 text-purple-500 animate-spin" />
                <p className="mt-4 text-slate-500 font-medium">Fetching real-time data...</p>
              </div>
            ) : listings.length === 0 ? (
              <div className="text-center py-32 bg-white/5 rounded-[3rem] border border-white/10 border-dashed">
                <ShoppingBag className="w-16 h-16 text-white/10 mx-auto mb-4" />
                <p className="text-slate-400 text-xl font-semibold">The marketplace is empty.</p>
                <button 
                  onClick={() => setView('sell')}
                  className="mt-4 text-purple-400 font-bold hover:text-purple-300 transition-colors flex items-center justify-center gap-2 mx-auto"
                >
                  Post a new listing <ArrowRight className="w-4 h-4" />
                </button>
              </div>
            ) : (
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {listings.map((item) => (
                  <div key={item.id} className="group bg-white/5 rounded-[2.5rem] border border-white/10 p-1 hover:border-purple-500/50 hover:bg-white/[0.07] transition-all duration-500">
                    <div className="p-8 h-full flex flex-col">
                      <div className="flex justify-between items-start mb-6">
                        <h3 className="text-2xl font-black text-white leading-tight group-hover:text-purple-400 transition-colors">{item.name}</h3>
                        <div className="bg-purple-600 text-white font-black px-4 py-2 rounded-2xl text-sm shadow-lg shadow-purple-600/20">
                          ${item.price.toLocaleString()}
                        </div>
                      </div>
                      <p className="text-slate-400 mb-8 line-clamp-4 text-sm leading-relaxed flex-grow">
                        {item.description}


</p>
                      
                      <div className="space-y-3 pt-6 border-t border-white/5">
                        <div className="flex items-center gap-4 text-slate-400 hover:text-white transition-colors">
                          <Phone className="w-4 h-4 text-purple-500" />
                          <span className="text-sm font-bold">{item.phone}</span>
                        </div>
                        <div className="flex items-center gap-4 text-slate-400 hover:text-white transition-colors">
                          <Mail className="w-4 h-4 text-purple-500" />
                          <span className="text-sm font-bold truncate">{item.email}</span>
                        </div>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            )}
          </section>
        ) : (
          <section className="max-w-2xl mx-auto">
            <div className="mb-10 text-center space-y-2">
              <h1 className="text-4xl font-black text-white tracking-tight">Sell Your Asset</h1>
              <p className="text-slate-400 text-lg">Your listing will be live on the dashboard instantly.</p>
            </div>

            <div className="bg-white/5 rounded-[3rem] p-8 md:p-12 border border-white/10 shadow-2xl">
              {submitted ? (
                <div className="py-16 flex flex-col items-center text-center animate-in zoom-in fade-in duration-500">
                  <div className="w-24 h-24 bg-purple-500/20 rounded-full flex items-center justify-center mb-6">
                    <CheckCircle2 className="w-12 h-12 text-purple-400" />
                  </div>
                  <h2 className="text-3xl font-black text-white">Listed!</h2>
                  <p className="text-slate-400 mt-2 text-lg">Your project is now visible to buyers.</p>
                </div>
              ) : (
                <form onSubmit={handleSubmit} className="space-y-8">
                  <div className="space-y-6">
                    <div>
                      <label className="text-xs font-black uppercase tracking-widest text-slate-500 ml-1 mb-2 block">Website Name</label>
                      <input
                        required
                        name="name"
                        value={formData.name}
                        onChange={handleInputChange}
                        placeholder="Project Alpha"
                        className="w-full px-6 py-4 rounded-2xl border border-white/10 bg-white/5 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all outline-none"
                      />
                    </div>
                    
                    <div>
                      <label className="text-xs font-black uppercase tracking-widest text-slate-500 ml-1 mb-2 block">Asking Price (USD)</label>
                      <input
                        required
                        type="number"
                        name="price"
                        value={formData.price}
                        onChange={handleInputChange}
                        placeholder="5000"
                        className="w-full px-6 py-4 rounded-2xl border border-white/10 bg-white/5 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all outline-none"
                      />
                    </div>

                    <div>
                      <label className="text-xs font-black uppercase tracking-widest text-slate-500 ml-1 mb-2 block">Description</label>
                      <textarea
                        required
                        name="description"
                        value={formData.description}
                        onChange={handleInputChange}

